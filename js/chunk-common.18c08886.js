(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{0:function(e,t,o){e.exports=o("56d7")},4637:function(e,t,o){"use strict";o("7a3f")},"4b47":function(e,t,o){var r=o("24fb");t=r(!1),t.push([e.i,".dynamic-input[data-v-9b4dad68],.multi-select[data-v-9b4dad68]{width:calc(100% - 10px)}",""]),e.exports=t},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("7a23");o("7437"),o("d3b7"),o("14d9"),o("e9c4"),o("d81d"),o("b64b"),o("a9e3"),o("d9e2"),o("159b"),o("3ca3"),o("ddb0"),o("caad"),o("fb6a"),o("25f0");function n(e){return["object","array","wrap"].includes(e)}function l(e){for(var t=0,o=0;o<e.length;o++)e.charCodeAt(o)>255?t+=2:t++;return Math.round(t/2)}function a(e,t){var o=0;if(e instanceof Array)o=l("Item "+e.length);else for(var r in e)if(e[r]){var n=e[r];o=Math.max(o,l(n.label||r))}else o=Math.max(o,l(r));return"".concat(o*t+30,"px")}var c=150;function i(e,t){if(0===t)return e;if("#"===e[0]&&(e=e.slice(1)),t=parseInt(t),isNaN(t))return e;if(t=0-t,t>=0)return e;var o=parseInt(e,16),r=(o>>16)+t,n=(o>>8&255)+t,l=(255&o)+t;r=Math.max(c,r),n=Math.max(c,n),l=Math.max(c,l);var a=l|n<<8|r<<16;return"#".concat(a.toString(16))}function u(e){if(["object","array"].includes(e.type))if("object"===e.type){if(e.fields){var t=Object(r["reactive"])({});for(var o in e.fields)t[o]=u(e.fields[o]);return t}if(e.itemDescriptor)return Object(r["reactive"])({})}else if("array"===e.type)return Object(r["reactive"])([]);return d(void 0,e)}function d(e,t){if("array"===t.type){for(var o=e||[],r=0;r<o.length;r++)o[r]=d(o[r],t.itemDescriptor);return o}if("object"===t.type){var n=e||{};for(var l in t.fields)n[l]=d(n[l],t.fields[l]);return n}if("wrap"===t.type){var a=e||{};for(var c in t.fields)a[c]=d(a[c],t.fields[c]);return a}return e||t.defaultValue}o("a434");function s(e){function t(t,o){if(o)e.value.push(t),console.log("registerLeaAutoFormSuccess, total:".concat(e.value.length),t);else for(var r=0;r<e.value.length;r++)if(e.value[r].uid===t.uid){e.value.splice(r,1),console.log("unRegisterLeaAutoFormSuccess",t.uid);break}}Object(r["provide"])("registerLeaAutoForm",t)}function p(e){if(e){var t=Object(r["inject"])("registerLeaAutoForm");t&&(Object(r["onMounted"])((function(){"function"===typeof t&&t(e,!0)})),Object(r["onUnmounted"])((function(){"function"===typeof t&&t(e,!1)})))}else console.warn("registerInstance: instance is null, this instance auto validation may not work")}function b(e){function t(t,o){if(o)e.value.push(t),console.log("registerLeaAutoFormSuccess total:".concat(e.value.length),t);else for(var r=0;r<e.value.length;r++)if(e.value[r].uid===t.uid){e.value.splice(r,1),console.log("publicUnRegisterLeaAutoFormSuccess",t.uid);break}}Object(r["provide"])("publicRegisterLeaAutoForm",t)}function m(e){if(e){var t=Object(r["inject"])("publicRegisterLeaAutoForm");t?(Object(r["onMounted"])((function(){"function"===typeof t&&t(e,!0)})),Object(r["onUnmounted"])((function(){"function"===typeof t&&t(e,!1)}))):console.warn("can not found publicRegisterLeaAutoForm, this form auto validation may not work",e)}else console.warn("publicRegisterInstance: instance is null, this instance auto validation may not work")}var f=o("d8e8"),O=(o("ac1f"),o("5319"),o("cb29"),{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"}),j=["fill"],v=["fill"],y=["fill"];function g(e,t,o,n,l,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",O,[Object(r["createElementVNode"])("path",{fill:o.fill,d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,8,j),Object(r["createElementVNode"])("path",{fill:o.fill,d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0z"},null,8,v),Object(r["createElementVNode"])("path",{fill:o.fill,d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,8,y)])}var h={name:"AddIcon",props:{fill:{type:String,default:"#17afff"}}},V=o("6b0d"),k=o.n(V);const x=k()(h,[["render",g]]);var w=x,B={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},N=["fill"],C=["fill"];function E(e,t,o,n,l,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",B,[Object(r["createElementVNode"])("path",{fill:o.fill,d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,8,N),Object(r["createElementVNode"])("path",{fill:o.fill,d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,8,C)])}var F={name:"CloseIcon",props:{fill:{type:String,default:"#ff7741"}}};const z=k()(F,[["render",E]]);var S=z,_=o("cf2e"),D=o("c349"),I=o("8ce9"),L=o("53ca"),A=(o("b0c0"),{key:1}),T={name:"DynamicComponent",componentName:"dynamic-component"},P=Object.assign(T,{props:{component:{type:[Object,String],required:!0}},setup:function(e){var t=this,o=Object(r["computed"])((function(){return t.component.children?"string"===typeof t.component.children?[t.component.children]:Array.isArray(t.component.children)?t.component.children:[]:[]}));return function(t,n){var l=Object(r["resolveComponent"])("dynamic-component",!0);return"string"!==typeof e.component?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.component.name),Object(r["mergeProps"])({key:0},e.component.props,Object(r["toHandlers"])(e.component.events)),{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(o),(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:t,component:e},null,8,["component"])})),128))]})),_:1},16)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",A,Object(r["toDisplayString"])(e.component),1))}}});const U=P;var M=U,$=o("9082"),q=o("91c0"),R=o("0291"),H=o("5c12"),W=o("f80f"),J={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","data-v-ea893728":""},K=["fill"];function Q(e,t,o,n,l,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("svg",J,[Object(r["createElementVNode"])("path",{fill:o.fill,d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,8,K)])}var G={name:"QuestionIcon",props:{fill:{type:String,default:"#797979"}}};const Y=k()(G,[["render",Q]]);var X=Y,Z={style:{display:"flex",width:"100%"}},ee={name:"DynamicInput",components:{DynamicComponent:M,ElButton:_["a"],ElInput:D["a"],ElInputNumber:$["a"],ElSelect:q["b"],ElOption:q["a"],ElDatePicker:R["a"],ElSwitch:H["a"],ElTooltip:W["a"],QuestionIcon:X}},te=Object.assign(ee,{props:{modelValue:{required:!0},field:{type:String,required:!0},size:{type:String,default:"small"},descriptor:{type:Object,required:!0}},emits:["update:modelValue"],setup:function(e,t){var o=t.emit,n=e,l={string:"el-input",number:"el-input-number",boolean:"el-switch",regexp:"el-input",integer:"el-input-number",float:"el-input-number",enum:"el-select",url:"el-input"},a=function(e){o("update:modelValue",e)},c=Object(r["computed"])((function(){return n.descriptor.component&&n.descriptor.component.name?n.descriptor.component.name:l[n.descriptor.type]||"el-input"})),i=["disabled","placeholder","autocomplete"],u=Object(r["computed"])((function(){var e={};i.forEach((function(t){"undefined"!==typeof n.descriptor[t]&&(e[t]=n.descriptor[t])}));var t=n.descriptor.component&&n.descriptor.component.props?n.descriptor.component.props:n.descriptor.props;return Object.assign(e,t)})),d=Object(r["computed"])((function(){return n.descriptor.component&&n.descriptor.component.events?n.descriptor.component.events:n.descriptor.events||{}})),s=Object(r["computed"])((function(){return n.descriptor.component?Array.isArray(n.descriptor.component.children)?n.descriptor.component.children:"string"===typeof n.descriptor.component.children?[n.descriptor.component.children]:[]:[]})),p=Object(r["computed"])((function(){return["enum","date"].includes(n.descriptor.type)}));return function(t,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Z,[!Object(r["unref"])(p)||e.descriptor.component&&e.descriptor.component.name?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(Object(r["unref"])(c)),Object(r["mergeProps"])({key:0,"model-value":n.modelValue,"onUpdate:modelValue":a,class:"dynamic-input"},Object(r["unref"])(u),{size:e.size},Object(r["toHandlers"])(Object(r["unref"])(d))),{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(s),(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(M,{key:t,component:e},null,8,["component"])})),128))]})),_:1},16,["model-value","size"])):"enum"===e.descriptor.type?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(q["b"]),Object(r["mergeProps"])({key:1,"model-value":n.modelValue,"onUpdate:modelValue":a,class:"dynamic-input"},Object(r["unref"])(u),{class:{"multi-select":e.descriptor.multiple},size:e.size,multiple:e.descriptor.multiple},Object(r["toHandlers"])(Object(r["unref"])(d))),{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.descriptor.options,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(q["a"]),{key:"object"===Object(L["a"])(e)?e.label:e,value:"object"===Object(L["a"])(e)?e.value:e,label:"object"===Object(L["a"])(e)?e.label:e,disabled:"object"===Object(L["a"])(e)&&e.disabled},null,8,["value","label","disabled"])})),128))]})),_:1},16,["model-value","class","size","multiple"])):"date"===e.descriptor.type?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(R["a"]),Object(r["mergeProps"])({key:2,"model-value":n.modelValue,"onUpdate:modelValue":a,class:"dynamic-input",type:"datetime"},Object(r["unref"])(u),{size:e.size},Object(r["toHandlers"])(Object(r["unref"])(d))),null,16,["model-value","size"])):Object(r["createCommentVNode"])("",!0),e.descriptor.tooltip?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(W["a"]),Object(r["mergeProps"])({key:3},e.descriptor.tooltip,{style:{"margin-left":"5px"}}),{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Object(r["unref"])(_["a"]),{text:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(X,{style:{width:"15px",height:"15px"}})]})),_:1})]})),_:1},16)):Object(r["createCommentVNode"])("",!0)])}}});o("4637");const oe=k()(te,[["__scopeId","data-v-9b4dad68"]]);var re=oe,ne={key:0,class:"multi-select"},le={class:"add-key-input-group"},ae={class:"add-key-input-group"},ce=["innerHTML"],ie={name:"LeaAutoFormItem",components:{DynamicInput:re,ElButton:_["a"],ElFormItem:f["b"],ElInput:D["a"],ElAlert:I["a"]}},ue=Object.assign(ie,{props:{modelValue:{required:!0},prop:{type:String,default:""},label:{type:String,default:""},descriptor:{type:Object,required:!0},data:{type:Object,required:!0},size:{type:String,default:"small"},fontSize:{type:Number,default:14},backgroundColor:{type:String,default:"#FFFFFF"},bgColorOffset:{type:Number,default:8},showOuterError:{type:Boolean,default:!0},deletable:{type:Boolean,default:!1},labelWidth:{type:String,default:""},doValidate:{type:Boolean,default:!1}},emits:["update:modelValue","fieldInput","delete"],setup:function(e,t){var o=t.emit,l=e,c=Object(r["ref"])("");function d(e){o("update:modelValue",e),o("fieldInput",{prop:l.prop,descriptor:l.descriptor,value:e})}var s=Object(r["computed"])((function(){return l.bgColorOffset?i(l.backgroundColor,l.bgColorOffset):"none"}));function p(){l.modelValue[c.value]=u(l.descriptor.itemDescriptor),c.value="",this.$refs[l.prop].resetField()}function b(){var e=u(l.descriptor.itemDescriptor);void 0===l.modelValue?o("update:modelValue",[e]):l.modelValue.push(e)}function m(){o("delete")}function O(e){delete l.modelValue[e]}function j(e){l.modelValue.splice(e,1)}return Object(r["watch"])((function(){return l.hashMapKey}),(function(e){-1!==e.indexOf(".")&&(c.value=c.value.replace(/\./g,""))})),function(t,o){var i=Object(r["resolveComponent"])("form-item",!0);return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(f["b"]),{ref:e.prop,label:"0px"===e.labelWidth?"":e.label||e.prop,"label-width":e.labelWidth,prop:e.prop,required:e.descriptor.required,rules:e.descriptor.rules||[],"show-message":e.showOuterError||!Object(r["unref"])(n)(e.descriptor.type)||Boolean(e.descriptor.component),size:e.size,class:"form-item"},{default:Object(r["withCtx"])((function(){return["custom"===e.descriptor.type?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[t.$slots[e.descriptor.slotName]?Object(r["renderSlot"])(t.$slots,e.descriptor.slotName,{key:0,value:l.modelValue,setValue:d,modelValue:l.modelValue,updateModelValue:d,data:e.data,placeholder:e.descriptor.placeholder}):Object(r["renderSlot"])(t.$slots,"field$"+e.prop,{key:1,value:l.modelValue,setValue:d,modelValue:l.modelValue,updateModelValue:d,data:e.data,placeholder:e.descriptor.placeholder})],64)):!Object(r["unref"])(n)(e.descriptor.type)||Boolean(e.descriptor.component)?(Object(r["openBlock"])(),Object(r["createBlock"])(re,{key:1,"model-value":l.modelValue,"onUpdate:modelValue":d,size:e.size,field:e.prop,descriptor:e.descriptor},null,8,["model-value","size","field","descriptor"])):"array"===e.descriptor.type?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:2},[e.descriptor.itemDescriptor&&"enum"===e.descriptor.itemDescriptor.type&&e.descriptor.itemDescriptor.multiple?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ne,[Object(r["createVNode"])(re,{"model-value":l.modelValue,"onUpdate:modelValue":d,size:e.size,descriptor:e.descriptor.itemDescriptor},null,8,["model-value","size","descriptor"])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:1,class:"sub-dynamic-form array",style:Object(r["normalizeStyle"])({backgroundColor:Object(r["unref"])(s)})},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(l.modelValue,(function(n,a){return Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:a,modelValue:l.modelValue[a],"onUpdate:modelValue":function(e){return l.modelValue[a]=e},data:e.data,prop:e.prop?e.prop+"."+a:a,deletable:!0,descriptor:e.descriptor.itemDescriptor,"label-width":"0px","background-color":Object(r["unref"])(s),"show-outer-error":e.showOuterError,onDelete:function(e){return j(a)},onFieldInput:o[0]||(o[0]=function(e){return t.$emit("fieldInput",e)})},Object(r["createSlots"])({_:2},[Object(r["renderList"])(t.$slots,(function(e,o){return{name:o,fn:Object(r["withCtx"])((function(e){return[Object(r["renderSlot"])(t.$slots,o,Object(r["normalizeProps"])(Object(r["guardReactiveProps"])(e)))]}))}}))]),1032,["modelValue","onUpdate:modelValue","data","prop","descriptor","background-color","show-outer-error","onDelete"])})),128)),Object(r["createElementVNode"])("div",le,[Object(r["createVNode"])(Object(r["unref"])(_["a"]),{class:"addButton",type:"primary",icon:t.plus,size:e.size,plain:"",onClick:b},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{class:"icon"}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.descriptor.addButtonText||"add"),1)]})),_:1},8,["icon","size"])])],4))],64)):"wrap"===e.descriptor.type?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:3,class:Object(r["normalizeClass"])(["sub-dynamic-form el-form",{"el-form--label-top":"top"===e.descriptor.labelPosition,"el-form--label-right":"right"===e.descriptor.labelPosition}]),style:Object(r["normalizeStyle"])({backgroundColor:Object(r["unref"])(s)})},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.descriptor["fields"],(function(o,n){return Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:n,modelValue:l.modelValue[n],"onUpdate:modelValue":function(e){return l.modelValue[n]=e},data:l.modelValue,label:o.label||n,prop:n,descriptor:o,"background-color":Object(r["unref"])(s),"show-outer-error":e.showOuterError},Object(r["createSlots"])({_:2},[Object(r["renderList"])(t.$slots,(function(e,o){return{name:o,fn:Object(r["withCtx"])((function(e){return[Object(r["renderSlot"])(t.$slots,o,Object(r["normalizeProps"])(Object(r["guardReactiveProps"])(e)))]}))}}))]),1032,["modelValue","onUpdate:modelValue","data","label","prop","descriptor","background-color","show-outer-error"])})),128))],6)):"object"===e.descriptor.type?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:4},[e.descriptor.itemDescriptor?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:1,class:"sub-dynamic-form hashmap",style:Object(r["normalizeStyle"])({backgroundColor:Object(r["unref"])(s)})},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(l.modelValue,(function(n){return Object(r["openBlock"])(),Object(r["createBlock"])(i,{ref_for:!0,ref:e.prop+"."+n,key:n,modelValue:l.modelValue[n],"onUpdate:modelValue":function(e){return l.modelValue[n]=e},data:e.data,label:n,prop:e.prop?e.prop+"."+n:n,deletable:!0,descriptor:e.descriptor.itemDescriptor,"label-width":Object(r["unref"])(a)(l.modelValue,e.fontSize),"background-color":Object(r["unref"])(s),"show-outer-error":e.showOuterError,onDelete:function(e){return O(n)},onInput:o[2]||(o[2]=function(e){return t.$emit("fieldInput",e)})},Object(r["createSlots"])({_:2},[Object(r["renderList"])(t.$slots,(function(e,o){return{name:o,fn:Object(r["withCtx"])((function(e){return[Object(r["renderSlot"])(t.$slots,o,Object(r["normalizeProps"])(Object(r["guardReactiveProps"])(e)))]}))}}))]),1032,["modelValue","onUpdate:modelValue","data","label","prop","descriptor","label-width","background-color","show-outer-error","onDelete"])})),128)),Object(r["createVNode"])(Object(r["unref"])(f["b"]),null,{default:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("div",ae,[Object(r["createVNode"])(Object(r["unref"])(D["a"]),{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=function(e){return c.value=e}),placeholder:e.descriptor.mapKeyPlaceHolder||"key name",size:e.size},null,8,["modelValue","placeholder","size"]),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{class:"addButton",type:"primary",size:e.size,disabled:!c.value||void 0!==l.modelValue[c.value],plain:"",onClick:p},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(w,{class:"icon"}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.descriptor.addButtonText||"add"),1)]})),_:1},8,["size","disabled"])])]})),_:1})],4)):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{key:0,class:"sub-dynamic-form",style:Object(r["normalizeStyle"])({backgroundColor:Object(r["unref"])(s)})},[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.descriptor.fields,(function(n,c){return Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:c,modelValue:l.modelValue[c],"onUpdate:modelValue":function(e){return l.modelValue[c]=e},data:e.data,label:n.label||c,prop:e.prop?e.prop+"."+c:c,descriptor:n,"label-width":Object(r["unref"])(a)(e.descriptor.fields,e.fontSize),"background-color":Object(r["unref"])(s),"show-outer-error":e.showOuterError,onFieldInput:o[1]||(o[1]=function(e){return t.$emit("fieldInput",e)})},Object(r["createSlots"])({_:2},[Object(r["renderList"])(t.$slots,(function(e,o){return{name:o,fn:Object(r["withCtx"])((function(e){return[Object(r["renderSlot"])(t.$slots,o,Object(r["normalizeProps"])(Object(r["guardReactiveProps"])(e)))]}))}}))]),1032,["modelValue","onUpdate:modelValue","data","label","prop","descriptor","label-width","background-color","show-outer-error"])})),128))],4))],64)):Object(r["createCommentVNode"])("",!0),e.deletable?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(_["a"]),{key:5,class:"delete-button",link:"",onClick:m},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(S,{class:"icon"})]})),_:1})):Object(r["createCommentVNode"])("",!0),e.descriptor.alert?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(I["a"]),Object(r["mergeProps"])({key:6},e.descriptor.alert,{style:{margin:"3px 8px 0 0",padding:"5px"}}),{default:Object(r["withCtx"])((function(){var t;return[Object(r["createElementVNode"])("div",{innerHTML:null===(t=e.descriptor.alert)||void 0===t?void 0:t.message},null,8,ce)]})),_:1},16)):Object(r["createCommentVNode"])("",!0)]})),_:3},8,["label","label-width","prop","required","rules","show-message","size"])),[[r["vShow"],!e.descriptor.hidden]])}}});o("86f6");const de=k()(ue,[["__scopeId","data-v-068af25e"]]);var se=de,pe={name:"LeaAutoForm",components:{FormItem:se,ElForm:f["a"],ElFormItem:f["b"]},methods:{},publicRegisterInstance:m,providePublicRegister:b},be=Object.assign(pe,{props:{modelValue:{type:Object,required:!0},lang:{type:String,default:"zh_CN"},disabled:{type:Boolean,default:!1},descriptors:{type:Object,required:!0},size:{type:String,default:"small"},labelPosition:{type:String,default:"right"},backgroundColor:{type:String,default:"#FFFFFF"},fontSize:{type:Number,default:13},showOuterError:{type:Boolean,default:!0},bgColorOffset:{type:Number,default:8},disableValidateChildrenForm:{type:Boolean,default:!1}},setup:function(e,t){var o=t.expose,n=e,l=(Object(r["ref"])(!1),Object(r["ref"])(null)),c=Object(r["ref"])([]);Object(r["watch"])((function(){return n.descriptors}),(function(){j()}));var i=n.modelValue;function u(e,t){i[e]=t}Object(r["computed"])((function(){var e={};for(var t in n.descriptors)if(t){var o=n.descriptors[t].rules;o&&(e[t]=o)}return e}));var b=Object(r["computed"])((function(){return a(n.descriptors,n.fontSize)})),O=Object(r["computed"])((function(){return{fontSize:"".concat(n.fontSize,"px"),backgroundColor:n.backgroundColor}}));function j(){v()}function v(){if(i&&!Object(r["isRef"])(i)&&!Object(r["isReactive"])(i))throw Error("auto form's value is not reacctive, you need use ref() or reactive()");if(!Object(r["isRef"])(i)&&!Object(r["isReactive"])(i))throw Error("value is not reacctive, you need use ref() or reactive()");for(var e in n.descriptors)y(i,e,n.descriptors[e])}function y(e,t,o){void 0!==o&&null!==o?e[t]=d(e[t],o):console.warn("field ".concat(t," 's descriptor is undefined or null "))}function g(){var e=[];return e.push(h()),V.value.forEach((function(t){t&&t.exposed&&t.exposed.validateCurrentForm&&e.push(t.exposed.validateCurrentForm())})),Promise.all(e).then((function(e){return-1===e.indexOf(!1)}))}function h(){return new Promise((function(e,t){l.value?l.value.validate((function(t){e(t)})):e(!0)}))}j();var V=Object(r["ref"])([]);s(V);var k=Object(r["getCurrentInstance"])();function x(){l.value.resetFields()}function w(){l.value.clearValidate()}return n.disableValidateChildrenForm||p(k),m(k),o({validate:g,validateCurrentForm:h,resetFields:x,clearValidate:w}),function(t,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"form",style:Object(r["normalizeStyle"])(Object(r["unref"])(O))},[Object(r["unref"])(i)?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(f["a"]),{key:0,ref_key:"refForm",ref:l,style:{background:"none"},model:Object(r["unref"])(i),disabled:e.disabled,size:e.size,"label-position":e.labelPosition},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.descriptors,(function(n,l){return Object(r["openBlock"])(),Object(r["createBlock"])(se,{ref_for:!0,ref_key:"refFormItems",ref:c,key:l,"model-value":Object(r["unref"])(i)[l],"onUpdate:modelValue":function(e){return u(l,e)},data:Object(r["unref"])(i),lang:e.lang,label:n.label||l,prop:l,"label-width":Object(r["unref"])(b),descriptor:n,size:e.size,"background-color":e.backgroundColor,"bg-color-offset":e.bgColorOffset,"show-outer-error":e.showOuterError,onFieldInput:o[0]||(o[0]=function(e){return t.$emit("fieldInput",e)})},Object(r["createSlots"])({_:2},[Object(r["renderList"])(t.$slots,(function(e,o){return{name:o,fn:Object(r["withCtx"])((function(e){return[Object(r["renderSlot"])(t.$slots,o,Object(r["normalizeProps"])(Object(r["guardReactiveProps"])(e)))]}))}}))]),1032,["model-value","onUpdate:modelValue","data","lang","label","prop","label-width","descriptor","size","background-color","bg-color-offset","show-outer-error"])})),128)),t.$slots.operations?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["unref"])(f["b"]),{key:0,class:"operations","label-width":Object(r["unref"])(b)},{default:Object(r["withCtx"])((function(){return[Object(r["renderSlot"])(t.$slots,"operations")]})),_:3},8,["label-width"])):Object(r["createCommentVNode"])("",!0)]})),_:3},8,["model","disabled","size","label-position"])):Object(r["createCommentVNode"])("",!0)],4)}}});o("b55a");const me=be;var fe=me,Oe=Object(r["createElementVNode"])("div",null," use custom component validate example: ",-1),je={key:0,style:{color:"orangered"}},ve={name:"CustomComponent"},ye=Object.assign(ve,{props:{modelValue:{type:String,default:""}},emits:["input"],setup:function(e,t){var o=t.expose,n=t.emit,l=e,a=Object(r["ref"])(l.modelValue),c=Object(r["ref"])(!1),i=Object(r["ref"])("");Object(r["watch"])((function(){return a}),(function(e){a.value=e}));var u=Object(r["getCurrentInstance"])();function d(){return new Promise((function(e,t){var o="rico"===a.value;o?(c.value=!1,i.value=""):(c.value=!0,i.value='you need to input "rico"'),e(o)}))}function s(e){n("update:modelValue",e.target.value)}return p(u),o({validateCurrentForm:d}),function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{style:Object(r["normalizeStyle"])([{border:c.value?"solid 1px orangered":"solid 1px #eeeeee"},{padding:"5px"}])},[Oe,Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.value=e}),link:"",onInput:s},null,544),[[r["vModelText"],a.value]]),Object(r["createTextVNode"])("  "),i.value?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",je,Object(r["toDisplayString"])(i.value),1)):Object(r["createCommentVNode"])("",!0)],4)}}});const ge=ye;var he=ge,Ve={style:{padding:"5px"}},ke=Object(r["createElementVNode"])("div",null," use can nested the lea-auto-form component in sub-component, and auto validate: ",-1),xe={name:"NestedComponent",components:{LeaAutoForm:fe}},we=Object.assign(xe,{props:{modelValue:{type:Object,required:!0}},setup:function(e){var t=e,o={age:{type:"number",label:"age",rules:[{required:!0,message:"age is required",trigger:"blur"}]}};return function(e,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ve,[ke,Object(r["createVNode"])(fe,{"model-value":t.modelValue,descriptors:o},null,8,["model-value"])])}}});const Be=we;var Ne=Be,Ce=o("7f58"),Ee=o("5fef"),Fe=o("4f55"),ze=o("3ef4"),Se=Object(r["createElementVNode"])("div",null,"With this descriptor:",-1),_e=Object(r["createElementVNode"])("div",null,"and the form will auto binding to data:",-1),De={style:{padding:"20px",background:"#efefef"}},Ie=Object(r["createElementVNode"])("div",null,"the form will auto generate by the descriptor we input:",-1),Le={style:{padding:"20px",background:"#efefef"}},Ae=Object(r["createElementVNode"])("div",null,"we can use slot name 'field$'+prop here to obtain a reference to the corresponding component. ",-1),Te=Object(r["createElementVNode"])("div",null,"But if you want to modify the bound value, you need to call the 'setValue' method to update it. (You can refer to the example of 'custom2' field, template named '#customSlotName') ",-1),Pe=Object(r["createElementVNode"])("a",{href:"https://github.com/leacoleaco/el-form-auto",target:"_blank",style:{cursor:"pointer"}},[Object(r["createElementVNode"])("img",{style:{position:"absolute",top:"0",right:"0",border:"0"},src:"https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67",alt:"Fork me on GitHub","data-canonical-src":"https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"})],-1),Ue={name:"Demo",components:{CustomComponent:he,NestedComponent:Ne,LeaAutoForm:fe,ElRow:Ce["a"],ElCol:Ee["a"],ElTimeSelect:Fe["a"],ElInput:D["a"],ElButton:_["a"]},methods:{validate:function(){var e=this.$refs.refAutoForm;e.validate().then((function(e){e?ze["a"].success({message:"validate success"}):ze["a"].error({message:"validate fail"})}))},resetFields:function(){this.$refs.refAutoForm.resetFields()},clearValidate:function(){this.$refs.refAutoForm.clearValidate()}}},Me=Object.assign(Ue,{setup:function(e){var t=Object(r["ref"])({number2:99,number3:"xxx",list1:[{text1:"I am an array item1"}],wrap1:{text1:"test"}}),o=Object(r["reactive"])({field_str:{type:"string",label:"String Field",placeholder:"input string placeholder test",rules:[{type:"string",required:!0,message:"you need input string",trigger:"blur"}]},number1:{type:"number",defaultValue:2},number2:{type:"number",label:"SetFromData",defaultValue:6,tooltip:{content:"This is tooltip"}},number3:{type:"number",label:"SetFromWrongData",defaultValue:6,alert:{showIcon:!0,closable:!0,type:"info",message:"This is an alert box"}},boolean1:{type:"boolean",defaultValue:!0},enum1:{type:"enum",options:["Tiger","Lion","Eagle"],placeholder:"Please choose an animal"},enum2:{type:"enum",options:[{label:"A",value:0},{label:"B",value:1},{label:"C",value:2}],placeholder:"Please choose a letter"},enum3:{type:"enum",label:"MultipleEnum",multiple:!0,options:[{label:"Orange",value:0},{label:"Banana",value:1},{label:"Apple",value:2}],placeholder:"Please choose some fruits"},date1:{type:"date"},custom1:{type:"custom",defaultValue:"default value test",placeholder:"i am placeholder"},custom2:{type:"custom",slotName:"customSlotName",placeholder:"choose time",rules:[{required:!0,message:"write custom component valid message here~ "}]},custom3:{type:"custom",defaultValue:"July"},nested1:{type:"custom",slotName:"nestedSlotName",defaultValue:{}},list1:{type:"array",label:"Array Field",addButtonText:"Custom Add Button Name",itemDescriptor:{type:"object",fields:{text1:{type:"text",label:"Text Field",min:1,defaultValue:"",component:{name:"el-input",props:{type:"textarea"}},rules:[{required:!0,message:"you need to input text"}],tooltip:{content:"This is tooltip"}},boolean2:{type:"boolean",defaultValue:!0},number1:{type:"number",label:"Number Field",defaultValue:999,rules:[{required:!0},{type:"number",validator:function(e,t,o,r,n){return new Promise((function(e,o){var r=[];t<=0&&r.push("number must greater than 0"),o(r)}))}}]},list2:{type:"array",label:"Nested Array Field",defaultValue:[],itemDescriptor:{type:"object",fields:{number6:{type:"number",defaultValue:2},nested2:{type:"custom",slotName:"nestedSlotName",defaultValue:{age:18}}}}}}}},wrap1:{type:"wrap",label:"Wrap Field",fields:{text1:{type:"text",label:"Text Field",min:1,defaultValue:"",component:{name:"el-input",props:{type:"textarea"}}}}},wrap2:{type:"wrap",label:"Wrap2 Field",labelPosition:"top",fields:{text1:{type:"text",label:"Text Field",min:1,defaultValue:"",component:{name:"el-input",props:{type:"textarea"}},rules:[{required:!0,message:"it is required!"}]},number2:{type:"number",label:"Long Long Label Name",defaultValue:6,tooltip:{content:"This is tooltip"}}}},obj1:{type:"object",label:"Object Field",addButtonText:"Custom Add Button Name",defaultValue:[],itemDescriptor:{type:"object",fields:{text1:{type:"text",label:"Text Field",min:1,defaultValue:"",component:{name:"el-input",props:{type:"textarea"}}}}}}}),n=Object(r["ref"])({});function l(){try{var e=JSON.parse(n.value);Object.assign(o,e),ze["a"].success({message:"regenerate finish! "})}catch(t){console.error(t),ze["a"].error({message:"descriptor config contain error! "+t})}}return n.value=JSON.stringify(o,null,2),function(e,a){var c=Object(r["resolveComponent"])("el-input-number");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(Object(r["unref"])(Ce["a"]),{gutter:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(Object(r["unref"])(Ee["a"]),{span:8},{default:Object(r["withCtx"])((function(){return[Se,Object(r["createVNode"])(Object(r["unref"])(D["a"]),{type:"textarea",rows:15,modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return n.value=e})},null,8,["modelValue"]),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{onClick:l,size:"small",style:{"margin-top":"10px"},type:"warning"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" Regenerate Form ")]})),_:1}),_e,Object(r["createElementVNode"])("pre",De,Object(r["toDisplayString"])(JSON.stringify(t.value,null,1)),1),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{onClick:a[1]||(a[1]=function(e){return t.value.field_str="123"}),size:"small",style:{"margin-top":"10px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" set_field_str ")]})),_:1}),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{onClick:a[2]||(a[2]=function(e){return o.enum1.options=["a","b","c"]}),size:"small",style:{"margin-top":"10px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" set_enum_options ")]})),_:1}),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{onClick:a[3]||(a[3]=function(e){return Object.keys(t.value).map((function(e){delete t.value[e]}))}),size:"small",style:{"margin-top":"10px"}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" clearData ")]})),_:1})]})),_:1}),Object(r["createVNode"])(Object(r["unref"])(Ee["a"]),{span:15},{default:Object(r["withCtx"])((function(){return[Ie,Object(r["createElementVNode"])("div",Le,[Object(r["createVNode"])(fe,{ref:"refAutoForm",descriptors:o,modelValue:t.value,"onUpdate:modelValue":a[4]||(a[4]=function(e){return t.value=e})},{field$custom1:Object(r["withCtx"])((function(e){var t=e.value,o=(e.setValue,e.data),n=e.placeholder;return[Ae,Object(r["createElementVNode"])("div",null,[Object(r["createTextVNode"])("you can get current field value here: "),Object(r["createElementVNode"])("i",null,Object(r["toDisplayString"])(t),1)]),Te,Object(r["createElementVNode"])("div",null,[Object(r["createTextVNode"])("you can also get or binding global data here, example: "),Object(r["createElementVNode"])("i",null,Object(r["toDisplayString"])(o.number1),1),Object(r["createTextVNode"])("  "),Object(r["createVNode"])(c,{size:"small",modelValue:o.number1,"onUpdate:modelValue":function(e){return o.number1=e}},null,8,["modelValue","onUpdate:modelValue"])]),Object(r["createElementVNode"])("div",null,[Object(r["createTextVNode"])("you can get or binding placeholder here: example: "),Object(r["createElementVNode"])("i",null,Object(r["toDisplayString"])(n),1),Object(r["createTextVNode"])("   "),Object(r["createVNode"])(Object(r["unref"])(D["a"]),{size:"small",style:{width:"200px"},placeholder:n},null,8,["placeholder"])])]})),customSlotName:Object(r["withCtx"])((function(e){var t=e.value,o=e.setValue,n=(e.data,e.placeholder);return[Object(r["createElementVNode"])("div",null," custom2: "+Object(r["toDisplayString"])(t),1),Object(r["createVNode"])(Object(r["unref"])(Fe["a"]),{"model-value":t,"onUpdate:modelValue":o,"picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:n},null,8,["model-value","onUpdate:modelValue","placeholder"])]})),field$custom3:Object(r["withCtx"])((function(e){var t=e.value,o=e.setValue;e.data,e.placeholder;return[Object(r["createVNode"])(he,{"model-value":t,"onUpdate:modelValue":o},null,8,["model-value","onUpdate:modelValue"])]})),nestedSlotName:Object(r["withCtx"])((function(e){var t=e.value,o=e.setValue;e.data,e.placeholder;return[Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",null,"nested data: "+Object(r["toDisplayString"])(t),1),Object(r["createVNode"])(Ne,{"model-value":t,"onUpdate:modelValue":o},null,8,["model-value","onUpdate:modelValue"])])]})),_:1},8,["descriptors","modelValue"]),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{onClick:e.validate,type:"primary"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])("validate")]})),_:1},8,["onClick"]),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{onClick:e.clearValidate},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])("clearValidate")]})),_:1},8,["onClick"]),Object(r["createVNode"])(Object(r["unref"])(_["a"]),{onClick:e.resetFields},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])("resetFields")]})),_:1},8,["onClick"])])]})),_:1})]})),_:1}),Pe])}}});const $e=Me;var qe=$e,Re=Object(r["createApp"])(qe);Re.mount("#app")},"644d":function(e,t,o){var r=o("72829");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=o("499e").default;n("2b0b1948",r,!0,{sourceMap:!1,shadowMode:!1})},72829:function(e,t,o){var r=o("24fb");t=r(!1),t.push([e.i,".sub-dynamic-form[data-v-068af25e]{border-radius:5px;width:100%;margin:3px 5px 3px 0;padding:10px}.sub-dynamic-form .el-form-item[data-v-068af25e]:last-child{margin-bottom:0}.el-form-item .el-form-item[data-v-068af25e]{margin-bottom:8px}.add-key-input-group[data-v-068af25e]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-top:10px}.add-key-input-group .el-input[data-v-068af25e]{width:250px;margin-right:10px}.add-key-input-group[data-v-068af25e]:first-child{margin-top:0}.delete-button[data-v-068af25e]{position:absolute;top:-8px;right:-2px;font-size:20px;color:#f56c6c;padding:5px 0}.delete-button .icon[data-v-068af25e]{color:#f56c6c}.addButton .icon[data-v-068af25e],.delete-button .icon[data-v-068af25e]{width:13px;height:13px}.delete-button[data-v-068af25e]:hover{color:red}.dynamic-input+.delete-button[data-v-068af25e]{top:auto;right:auto}",""]),e.exports=t},"7a3f":function(e,t,o){var r=o("4b47");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=o("499e").default;n("25edc5fe",r,!0,{sourceMap:!1,shadowMode:!1})},"86f6":function(e,t,o){"use strict";o("644d")},b55a:function(e,t,o){"use strict";o("caa9")},c45c:function(e,t,o){var r=o("24fb");t=r(!1),t.push([e.i,".form{background:none}.form .add-key-input-group .el-input__inner,.form .add-key-input-group .el-input__inner:focus,.form .add-key-input-group .el-textarea__inner,.form .add-key-input-group .el-textarea__inner:focus,.form .el-form-item.is-success .el-input__inner,.form .el-form-item.is-success .el-input__inner:focus,.form .el-form-item.is-success .el-textarea__inner,.form .el-form-item.is-success .el-textarea__inner:focus{border-color:#dcdfe6}",""]),e.exports=t},caa9:function(e,t,o){var r=o("c45c");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=o("499e").default;n("1027c2d9",r,!0,{sourceMap:!1,shadowMode:!1})}}]);